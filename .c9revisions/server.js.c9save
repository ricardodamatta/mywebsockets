{"ts":1371138508192,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var app = require('http').createServer(handler)\n, io = require('socket.io').listen(app)\n, fs = require('fs')\n\napp.listen(process.env.PORT || 8001, process.env.IP || '127.0.0.1');\n\nfunction handler (req, res) {\nfs.readFile('index.html',\nfunction (err, data) {\nif (err) {\nres.writeHead(500);\nreturn res.end('Error loading index.html');\n}\n\nres.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});\nres.end(data);\n});\n}\n\nio.sockets.on('connection', function (socket) {\n// echo the message\nsocket.on('message', function (data) {\nconsole.info(data);\nsocket.send(\"[ECHO] \"+data);\n});\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":605}]],"length":605}
{"contributors":[],"silentsave":false,"ts":1371138792282,"patch":[[{"diffs":[[0,"ta);\n});\n});"],[-1,"\n"]],"start1":592,"start2":592,"length1":13,"length2":12}]],"length":604,"saved":false}
{"ts":1371139722324,"patch":[[{"diffs":[[0,"handler)"],[-1,"\n"],[0,","],[1,"\n   "],[0," io = re"]],"start1":39,"start2":39,"length1":18,"length2":21},{"diffs":[[0,"app)"],[-1,"\n"],[0,","],[1,"\n   "],[0," fs "]],"start1":86,"start2":86,"length1":10,"length2":13},{"diffs":[[0,"e('fs')\n"],[-1,"\n"],[1,"// had to add \", process.env.IP || '127.0.0.1'\" below to make the process work\n    "],[0,"app.list"]],"start1":107,"start2":107,"length1":17,"length2":99},{"diffs":[[0," handler"],[-1," "],[0,"(req, re"]],"start1":276,"start2":276,"length1":17,"length2":16},{"diffs":[[0," res) {\n"],[1,"    "],[0,"fs.readF"]],"start1":289,"start2":289,"length1":16,"length2":20},{"diffs":[[0,".html',\n"],[1,"\n    "],[0,"function"]],"start1":319,"start2":319,"length1":16,"length2":21},{"diffs":[[0,"data) {\n"],[1,"        "],[0,"if (err)"]],"start1":347,"start2":347,"length1":16,"length2":24},{"diffs":[[0,"(err) {\n"],[1,"            "],[0,"res.writ"]],"start1":366,"start2":366,"length1":16,"length2":28},{"diffs":[[0,"d(500);\n"],[1,"            "],[0,"return r"]],"start1":398,"start2":398,"length1":16,"length2":28},{"diffs":[[0,"html');\n"],[-1,"}\n\n"],[1,"        }\n\n        "],[0,"res.writ"]],"start1":454,"start2":454,"length1":19,"length2":35},{"diffs":[[0,"d(200, {"],[1,"\n            "],[0,"'Content"]],"start1":493,"start2":493,"length1":16,"length2":29},{"diffs":[[0,"t/html',"],[1,"\n           "],[0," \"Conten"]],"start1":534,"start2":534,"length1":16,"length2":28},{"diffs":[[0,"a.length"],[-1,"});\n"],[1,"\n        });\n        "],[0,"res.end("]],"start1":576,"start2":576,"length1":20,"length2":37},{"diffs":[[0,".end(data);\n"],[1,"    "],[0,"});\n}\n\nio.so"]],"start1":608,"start2":608,"length1":24,"length2":28},{"diffs":[[0,"cket) {\n"],[1,"    "],[0,"// echo "]],"start1":671,"start2":671,"length1":16,"length2":20},{"diffs":[[0,"message\n"],[1,"    "],[0,"socket.o"]],"start1":695,"start2":695,"length1":16,"length2":20},{"diffs":[[0,"data) {\n"],[1,"        "],[0,"console."]],"start1":738,"start2":738,"length1":16,"length2":24},{"diffs":[[0,"(data);\n"],[1,"        "],[0,"socket.s"]],"start1":766,"start2":766,"length1":16,"length2":24},{"diffs":[[0,"O] \""],[-1,"+"],[1," + "],[0,"data);\n"],[1,"    "],[0,"});\n"]],"start1":799,"start2":799,"length1":16,"length2":22}]],"length":824,"saved":false}
